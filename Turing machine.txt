0 _ * L halt

0 A _ R 1
0 B _ R 3
0 C _ R 5

0 a A r 0
0 b B r 0
0 c C r 0

1 _ a * 2
1 * * r 1

2 * * l 2
2 _ A r 0

3 _ b * 4
3 * * r 3

4 * * l 4
4 _ B r 0

5 _ c * 6
5 * * r 5

6 * * l 6
6 _ C r 0